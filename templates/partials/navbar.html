{% load static %}
<header class="bg-white shadow-sm sticky top-0 z-10">
  <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
    <!-- Logo -->
    <a href="/" class="flex items-center gap-3">
      <img src="{% static 'img/smartlogo-only.png' %}" alt="Smart Lab Facens Logo" class="h-10">
      <span class="sr-only">Início</span>
    </a>

    <!-- Título -->
    <h1 class="text-xl md:text-2xl font-bold text-slate-900">POP: Diagnóstico de Sensores</h1>

    <!-- Links Desktop -->
    <div class="hidden md:flex space-x-6">
      <a href="/#objetivo" class="text-slate-600 hover:text-amber-600 transition">Objetivo</a>
      <a href="/#ferramentas" class="text-slate-600 hover:text-amber-600 transition">Ferramentas</a>
      <a href="/#processo" class="text-slate-600 hover:text-amber-600 transition">Processo</a>
      <a href="{% url 'diagnostics:new' %}" class="text-slate-600 hover:text-amber-600 transition">Novo Diagnóstico</a>
      <a href="{% url 'diagnostics:list' %}" class="text-slate-600 hover:text-amber-600 transition">Buscar</a>
    </div>

    <!-- Botão Mobile -->
    <button id="menu-btn" class="md:hidden text-slate-900 focus:outline-none">
      <!-- Ícone hamburguer -->
      <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
      </svg>
    </button>
  </nav>

  <!-- Sidebar Mobile -->
  <div id="sidebar" class="fixed top-0 left-0 w-64 h-full bg-white shadow-lg transform -translate-x-full transition-transform duration-300 z-20">
    <div class="p-6 flex justify-between items-center border-b">
      <span class="font-bold text-lg text-slate-900">Menu</span>
      <button id="close-btn" class="text-slate-900">
        ✕
      </button>
    </div>
    <nav class="flex flex-col space-y-4 p-6">
      <a href="/#objetivo" class="text-slate-600 hover:text-amber-600 transition">Objetivo</a>
      <a href="/#ferramentas" class="text-slate-600 hover:text-amber-600 transition">Ferramentas</a>
      <a href="/#processo" class="text-slate-600 hover:text-amber-600 transition">Processo</a>
      <a href="{% url 'diagnostics:new' %}" class="text-slate-600 hover:text-amber-600 transition">Novo Diagnóstico</a>
      <a href="{% url 'diagnostics:list' %}" class="text-slate-600 hover:text-amber-600 transition">Buscar</a>
    </nav>
  </div>

  <!-- Overlay escuro -->
  <div id="overlay" class="fixed inset-0 bg-black bg-opacity-50 hidden z-10"></div>
</header>

<script>
  const menuBtn = document.getElementById('menu-btn');
  const sidebar = document.getElementById('sidebar');
  const closeBtn = document.getElementById('close-btn');
  const overlay = document.getElementById('overlay');

  menuBtn.addEventListener('click', () => {
    sidebar.classList.remove('-translate-x-full');
    overlay.classList.remove('hidden');
  });

  closeBtn.addEventListener('click', () => {
    sidebar.classList.add('-translate-x-full');
    overlay.classList.add('hidden');
  });

  overlay.addEventListener('click', () => {
    sidebar.classList.add('-translate-x-full');
    overlay.classList.add('hidden');
  });
</script>
